@model TraveLust.Models.Groupchat

@if (ViewBag.Message != null)
{
    <h2 class="alert-secondary p-3 rounded-3 text-center mb-5">@ViewBag.Message</h2>
}

<h2 style="color: #f2f2f2;">Add travel buddies to @Model.Name!</h2>

@foreach (var user in Model.AllUsers)
{
    <hr />
    <p style ="color: #f2f2f2;">@user.Text</p>

    //generated by GitHub Copilot
    if (Model.UserInGroupchats.Select(o => o.UserId).Contains(user.Value))
    {
        <form method="post" action="/UserInGroupchats/RemoveUser">
            <input type="hidden" name="UserId" value="@user.Value" />
            <input type="hidden" name="GroupchatId" value="@Model.GroupchatId" />
            <button class="btn btn-outline-secondary" type="submit">Remove!</button>
        </form>
        <br />
        <br />
    }
    else
    {
    <form method="post" action="/UserInGroupchats/New">
            <input type="hidden" name="UserId" value="@user.Value" />
            <input type="hidden" name="GroupchatId" value="@Model.GroupchatId" />
        <button class="btn btn-outline-secondary" type="submit">Add travel buddy!</button>
    </form>

    <br />
    <br />
    }
<hr />
<br />
}

<a class="btn btn-outline-secondary" href="/Itineraries/New/@Model.GroupchatId">Next step!</a>